:root {
    --bg-color: #bfc0d1;
    --glass-bg: rgba(255, 255, 255, 0.7);
    --glass-border: rgba(255, 255, 255, 0.4);
    --primary-soft: #60519b;
    --text-main: #4a5568;
    --text-muted: rgba(74,85,104,0.65);
    --card-bg: var(--glass-bg);
    --card-border: var(--glass-border);
    --input-bg: var(--glass-bg);
    --spinner-border: rgba(49,50,62,0.08);
    --text-default: #31323e;
    --shadow-soft: 0 10px 30px rgba(0, 0, 0, 0.05);
}

body.dark-mode {
    --bg-color: #071022;
    --glass-bg: rgba(16,22,32,0.75);
    --glass-border: rgba(255, 255, 255, 0.06);
    --text-main: #e6eef8;
    --text-muted: rgba(230,238,248,0.65);
    --card-bg: rgba(12,18,28,0.6);
    --card-border: rgba(255,255,255,0.04);
    --input-bg: rgba(255,255,255,0.03);
    --spinner-border: rgba(255,255,255,0.06);
}

/* Ensure default-black texts become white in dark mode for readability */
body.dark-mode { color: var(--text-main); }
body.dark-mode header p,
body.dark-mode p,
body.dark-mode label,
body.dark-mode .item-name,
body.dark-mode .item-code,
body.dark-mode .tab-btn,
body.dark-mode .toast,
body.dark-mode .pagination {
    color: var(--text-main);
}
body.dark-mode input::placeholder,
body.dark-mode textarea::placeholder {
    color: var(--text-muted);
}
/* make links inherit text color in dark mode unless explicitly styled */
body.dark-mode a { color: inherit; }

body {
    font-family: 'Coolvetica', 'Google Sans', sans-serif;
    background-color: var(--bg-color);
    color: var(--text-default);
    margin: 0; padding: 20px;
    transition: background 0.3s;
}

/* Efek Blur saat Modal Muncul */
body.modal-open #app-container {
    filter: blur(8px);
    pointer-events: none;
}

.container { max-width: 800px; margin: auto; transition: filter 0.3s ease; }

header h1 { font-family: 'Coolvetica', sans-serif; text-align: center; color: var(--primary-soft); font-size: 3rem; margin-bottom: 5px; }
header p { text-align: center; opacity: 0.8; margin-bottom: 30px; }

/* Form & Controls */
.search-container { position: relative; margin-bottom: 20px; display: flex; justify-content: center; }
#searchInput {
    width: 100%; max-width: 720px; padding: 15px 25px; border-radius: 50px;
    border: 2px solid var(--input-bg); background: var(--input-bg);
    backdrop-filter: blur(8px); color: var(--text-default); outline: none;
}

.controls-row { display: flex; flex-wrap: wrap; gap: 15px; align-items: center; justify-content: flex-start; margin-bottom: 25px; }

/* Link Cards */
.grid-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
.link-card {
    background: var(--card-bg); border: 1px solid var(--card-border);
    border-radius: 18px; padding: 16px; backdrop-filter: blur(6px);
    box-shadow: var(--shadow-soft); position: relative;
}

.thumbnail { width: 100%; height: 160px; object-fit: cover; border-radius: 15px; margin-bottom: 12px; }
.item-code { display: block; font-size: 0.85rem; color: var(--text-muted); margin-bottom: 6px; font-weight: 600; }
.item-name { display: block; font-size: 1.15rem; font-weight: 500; margin-bottom: 10px; color: var(--text-default); }

.button-group { display: flex; gap: 10px; }
.btn { flex: 1; padding: 10px; border-radius: 12px; border: none; cursor: pointer; text-align: center; text-decoration: none; font-weight: 500; }
.btn-5mb { background: var(--primary-soft); color: white; }
.btn-xml { background: var(--primary-soft); color: white; }
.btn-tonton { background: #31323e; color: white; }

/* Modal */
.modal { position: fixed; inset: 0; background: rgba(49,50,62,0.4); display: flex; align-items: center; justify-content: center; z-index: 999; }
.modal-content { background: var(--glass-bg); backdrop-filter: blur(20px); padding: 30px; border-radius: 25px; text-align: center; max-width: 350px; border: 1px solid var(--glass-border); }
.modal-content { display: flex; flex-direction: column; align-items: center; gap: 12px; }
.donation-desc { max-width: 300px; line-height: 1.4; color: var(--text-default); }
.btn-donate { display: block; background: #ffb86b; color: white; padding: 15px; border-radius: 15px; text-decoration: none; margin-top: 20px; }

/* Loader */
.loader-wrapper { display: none; flex-direction: column; align-items: center; padding: 40px; }
.spinner { width: 40px; height: 40px; border: 4px solid var(--spinner-border); border-top-color: var(--primary-soft); border-radius: 50%; animation: spin 1s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

/* Fixed Buttons */
.theme-toggle-fixed { position: fixed; bottom: 20px; left: 20px; background: var(--glass-bg); padding: 15px; border-radius: 50%; cursor: pointer; box-shadow: var(--shadow-soft); z-index: 100; }
.share-fixed { position: fixed; bottom: 20px; right: 20px; background: var(--primary-soft); color: white; padding: 12px 25px; border-radius: 50px; text-decoration: none; z-index: 100; }

.tab-btn { background: none; border: 1px solid var(--glass-border); padding: 8px 20px; border-radius: 20px; cursor: pointer; color: var(--text-default); }
.tab-btn.active { background: var(--primary-soft); color: white; border-color: var(--primary-soft); }

/* Position top controls: theme toggle (left) and share (right) */
.theme-toggle { position: fixed; top: 12px; left: 12px; z-index: 10005; background: transparent; padding: 8px; border-radius: 8px; cursor: pointer; }
.share-fixed { position: fixed; top: 12px; right: 12px; background: var(--primary-soft); color: white; padding: 10px 14px; border-radius: 12px; text-decoration: none; z-index: 10005; }

/* Theme icon styling and flipped state */
.theme-toggle img { width: 28px; height: 28px; display: block; transition: transform 0.22s ease; }
.theme-toggle img.toggled { transform: scaleX(-1); }

/* In dark mode, make all referenced SVG images appear white for better contrast */
body.dark-mode img[src$=".svg"] {
    filter: invert(1) brightness(1.6) saturate(0) contrast(1);
}
/* Also target inline SVG elements if present */
body.dark-mode svg {
    filter: invert(1) brightness(1.6) saturate(0) contrast(1);
}

/* Dropdown menu for per-card actions */
.dropdown-menu { position: absolute; top: 36px; right: 0; display: none; z-index: 10010; }
.dropdown-menu ul { list-style: none; margin: 0; padding: 6px; }
.dropdown-menu li { background: var(--glass-bg); border: 1px solid var(--glass-border); padding: 8px 12px; border-radius: 8px; margin: 6px 0; cursor: pointer; color: var(--text-default); min-width: 160px; }
.dropdown-menu li:hover { background: rgba(49,50,62,0.06); }

/* Ensure dropdown sits above blurred cards */
.link-card { position: relative; z-index: 1; }

/* Bookmark button positioning */
.link-card .bookmark-btn { position: absolute; top: 10px; right: 10px; background: transparent; border: none; padding: 6px; border-radius: 8px; cursor: pointer; z-index: 6; }
.link-card .bookmark-btn img { width: 18px; height: 18px; display: block; }
.link-card .bookmark-btn.active img { filter: sepia(1) saturate(20) hue-rotate(-15deg) brightness(0.9) contrast(1.05); transition: filter 0.12s ease; }
.link-card .bookmark-btn.active { background: rgba(255,60,60,0.12); border-radius: 8px; }

/* Inline fav icon next to 'Favorit' tab */
.bookmark-tab .inline-fav { width: 16px; height: 16px; vertical-align: middle; }

/* Label weight for filter and sort should be normal (not medium) */
.filter-container label, .sort-container label { font-weight: 400; color: var(--text-default); }

/* Category select icon */
.filter-container { position: relative; display: flex; align-items: center; gap: 8px; }
.filter-container .filter-icon { position: absolute; 
    left: 12px; top: 50%; transform: translateY(-50%); pointer-events: none; }
.filter-container .filter-icon img { width: 14px; height: 14px; opacity: 0.85; }
.filter-container select { padding-left: 12px; }

/* Small icon copy button next to links */
.icon-copy { background: transparent; border: none; padding: 6px; margin-left: 6px; border-radius: 8px; cursor: pointer; display: inline-flex; align-items: center; justify-content: center; }
.icon-copy img { width: 16px; height: 16px; display: block; filter: none; }
.icon-copy:hover { background: rgba(49,50,62,0.04); }

.toast { position: fixed; left: 50%; bottom: 28px; transform: translateX(-50%); background: var(--card-bg); color: var(--text-default); padding: 10px 18px; border-radius: 999px; border: 1px solid var(--card-border); box-shadow: var(--shadow-soft); opacity: 0; transition: opacity 0.18s ease; z-index: 11000; }
.toast.visible { opacity: 1; }

/* Footer social icons */
.social-links { display: flex; gap: 10px; justify-content: center; align-items: center; margin-bottom: 8px; }
.social-links img { width: 20px; height: 20px; display: block; }

/* Fixed social icons in bottom-right */
.social-links.social-fixed {
    position: fixed;
    bottom: 14px;
    right: 14px;
    z-index: 10020;
    background: var(--card-bg);
    padding: 8px 10px;
    border-radius: 999px;
    box-shadow: var(--shadow-soft);
    display: flex;
    gap: 8px;
    align-items: center;
}
.social-links.social-fixed img { width: 18px; height: 18px; }
